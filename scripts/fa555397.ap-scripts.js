"use strict";angular.module("artpopApp",["ngCookies","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider",function(a){a.when("/electric-chapel",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/credit",{templateUrl:"views/credit.html",controller:"CreditCtrl"}).when("/artpop",{templateUrl:"views/artpop.html",controller:"ArtpopCtrl"}).otherwise({redirectTo:"/electric-chapel"})}]),angular.module("artpopApp").run(["$templateCache",function(a){a.put("views/artpop.html","<p>This is the artpop view.</p>"),a.put("views/credit.html",'<div class="panel panel-default ap-credit"><div class="panel-heading">Credit - Software & Library</div><div class="list-group"><a href="http://threejs.org" class="list-group-item">ThreeJS by Mr.doob!</a> <a href="http://yeoman.io/" class="list-group-item">AngularJS</a> <a href="http://yeoman.io/" class="list-group-item">Karma</a> <a href="http://yeoman.io/" class="list-group-item">Jasmine</a> <a href="http://jquery.com/" class="list-group-item">jQuery</a> <a href="http://getbootstrap.com/" class="list-group-item">Bootstrap</a> <a href="https://github.com/yeoman/generator-angular" class="list-group-item">Angular Generator</a> <a href="http://yeoman.io/" class="list-group-item">Yeoman</a> <a href="http://github.com/" class="list-group-item">Github Desktop Client</a> <a href="http://webgl.org" class="list-group-item">WebGL,OpenGL ESSL - Kronos Group</a> <!--\n		<a href="" class="list-group-item"></a>\n    	<a href="" class="list-group-item"></a>\n    --></div></div><div class="panel panel-default ap-credit"><div class="panel-heading">Example Code Reference *Goodies*</div><div class="list-group"><a href="http://threejs.org/examples/webgl_custom_attributes.html" class="list-group-item">Custom Attribute - Shader Material</a> <a href="http://lab.aerotwist.com/webgl/undulating-monkey/" class="list-group-item">Undulating monkey - A3 Engine</a> <a href="http://stemkoski.github.io/Three.js/Text3D-Textures.html" class="list-group-item">3D Text Creation</a> <a href="http://jsfiddle.net/p3ZMR/3/" class="list-group-item">Active Link Menu</a> <!--\n    <a href="" class="list-group-item"></a>\n    --></div></div><div class="panel panel-default ap-credit"><div class="panel-heading">WebGL Optimisation</div><div class="list-group"><a href="https://developer.mozilla.org/en-US/docs/Web/WebGL/WebGL_best_practices" class="list-group-item">WebGL best pactices - MDN</a> <a href="https://www.youtube.com/watch?v=QVvHtWePQdA" class="list-group-item">Optimizing WebGL Applications with Don Olmstead</a> <!--\n    <a href="" class="list-group-item"></a>\n    --></div></div><div class="panel panel-default ap-credit"><div class="panel-heading">Devtools Profiling & Web Rendering Optmisation</div><div class="list-group"><a href="https://www.youtube.com/watch?v=x6qe_kVaBpg" class="list-group-item">Chrome DevTools Gogole I/O 2013 - Paul Irish</a> <a href="https://www.youtube.com/watch?v=9xjpmpX4NJE" class="list-group-item">A rendering perf guide for develoeprs by Paul Lewis</a> <a href="http://jankfree.org/" class="list-group-item">JankFree.org</a> <a href="https://www.youtube.com/watch?v=L3ugr9BJqIs" class="list-group-item">Memory Profiling - McCutchan and Loreena Lee</a> <a href="http://www.html5rocks.com/en/tutorials/memory/effectivemanagement/" class="list-group-item"></a> <!--\n    <a href="" class="list-group-item"></a>\n    --></div></div><div class="panel panel-default ap-credit"><div class="panel-heading">Tutorials</div><div class="list-group"><a href="http://aerotwist.com/lab/undulating-monkey/" class="list-group-item">Monkey Article - Aerotwist</a> <a href="http://aerotwist.com/tutorials/an-introduction-to-shaders-part-2/" class="list-group-item">Into to Shaders Part 2 - Aerotwist</a> <a href="http://addyosmani.com/resources/essentialjsdesignpatterns/book/" class="list-group-item">Learning JavaScript Design Patterns - Addy Osmani</a> <a href="http://learningthreejs.com/" class="list-group-item">Learning ThreeJS</a> <a href="http://learningwebgl.com/blog/" class="list-group-item">Learning WebGL</a> <!--\n    <a href="" class="list-group-item"></a>\n    --></div></div><div class="ap-footer">Made with love <span class="glyphicon glyphicon-heart"></span> from @wonglok831. Fan ART. Copyright belongs to Respective Owner.<br></div>'),a.put("views/main.html",'<webgl-detector>Bummer :( Your browser doesn\'t seemd to support ARTPOP WebGL App.<br>You are supposed to see this image.<br><img ng-src="./images/supposeToSee.png" alt=""></webgl-detector>')}]),angular.module("artpopApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["ARTPOP","WebGL","Yeoman","Facebook","HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("artpopApp").controller("CreditCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("artpopApp").controller("ArtpopCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("artpopApp").directive("webglDetector",["$rootScope","$templateCache","WebGLRenderer","doobStat",function(a,b,c,d){function e(){z=[],v=new THREE.Scene,w=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),x=c,x.setSize(window.innerWidth,window.innerHeight),w.aspect=window.innerWidth/window.innerHeight,w.position.z=20}function f(a){u=a.find(".gl-detector-container"),u.html(x.domElement),x.setClearColor(255,0)}function g(){var a=new THREE.SphereGeometry(10,64,64);return a}function h(){var a=new THREE.MeshPhongMaterial({color:new THREE.Color(16711935),wireframe:!0,side:THREE.DoubleSide,wireframeLinewidth:1});return a}function i(){var a=new THREE.PointLight(16777215,1.5,100);a.position.set(0,0,20),v.add(a)}function j(a){var b=new TWEEN.Tween(a),c=new TWEEN.Tween(a);b.to({wireframeLinewidth:10},600).chain(c).start(),c.to({wireframeLinewidth:1},600).chain(b)}function k(){var a,c;b.get("shaders/ap-spiky.vs"),b.get("shaders/ap-spiky.fs"),a=h(),c=g();var d=new THREE.Mesh(c,a);v.add(d),j(a);var e=function(){a.color.offsetHSL(.001,0,0),d.rotation.z+=.005,d.rotation.x+=.005,d.rotation.y+=.005};z.push(e)}function l(){x.render(v,w),m(),TWEEN.update()}function m(){for(var a=z.length-1;a>=0;a--){var b=z[a];"function"==typeof b&&b()}}function n(){A.resize.invalidate=!0}function o(){x.setSize(window.innerWidth,window.innerHeight),w.aspect=window.innerWidth/window.innerHeight,w.updateProjectionMatrix(),setTimeout(function(){A.resize.invalidate=!1,A.render.throttle=!1},100)}function p(){A.resize.invalidate&&!A.resize.throttle&&(A.render.throttle=!0,setTimeout(o,500))}function q(){d.begin(),y=window.requestAnimationFrame(q),p(),A.render.throttle||l(),d.end()}function r(){window.cancelAnimationFrame(y)}function s(a){window.addEventListener("resize",n,!1),a.$on("$destroy",function(){r(),window.removeEventListener("resize")})}function t(a,b){a.html(b())}var u,v,w,x,y,z,A={render:{throttle:!1},resize:{invalidate:!1}};return Modernizr.webgl&&(e(),i(),k()),Modernizr.mobile&&(a.isMobile=!0),{template:'<div class="gl-detector-container"></div>',restrict:"E",transclude:!0,precomplile:function(a){console.log(a.html())},controller:["$scope","$element","$transclude",function(a,b,c){Modernizr.webgl?(f(b),s(a),q()):t(b,c)}]}}]),angular.module("artpopApp").directive("activeLink",["$location",function(a){return{restrict:"A",link:function(b,c,d){var e=d.activeLink,f=c.find("a").attr("ng-href");-1!==f.indexOf("#")&&(f=f.substring(1)),b.location=a,b.$watch("location.path()",function(a){0===a.indexOf("/")&&(a=a.substring(1)),f===a?c.addClass(e):c.removeClass(e)})}}}]),angular.module("artpopApp").factory("WebGLRenderer",function(){return new THREE.WebGLRenderer}),angular.module("artpopApp").factory("doobStat",function(){function a(){b=new Stats}var b;return a(),{dom:b.domElement,start:b.begin,begin:b.begin,end:b.end}}),angular.module("artpopApp").directive("doobStat",["doobStat",function(a){return{template:"",restrict:"E",controller:["$element",function(b){b.html(a.dom)}]}}]);