"use strict";angular.module("artpopApp",["ngCookies","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider",function(a){a.when("/electric-chapel",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/credit",{templateUrl:"views/credit.html",controller:"CreditCtrl"}).when("/artpop",{templateUrl:"views/artpop.html",controller:"ArtpopCtrl"}).otherwise({redirectTo:"/electric-chapel"})}]),angular.module("artpopApp").run(["$templateCache",function(a){a.put("views/artpop.html","<p>This is the artpop viewaaa.</p>"),a.put("views/credit.html",'<div class="panel panel-default ap-credit"><div class="panel-heading">Credit - Software & Library</div><div class="list-group"><a href="http://threejs.org" class="list-group-item">ThreeJS by Mr.doob!</a> <a href="http://yeoman.io/" class="list-group-item">AngularJS</a> <a href="http://yeoman.io/" class="list-group-item">Karma</a> <a href="http://yeoman.io/" class="list-group-item">Jasmine</a> <a href="http://jquery.com/" class="list-group-item">jQuery</a> <a href="http://getbootstrap.com/" class="list-group-item">Bootstrap</a> <a href="https://github.com/yeoman/generator-angular" class="list-group-item">Angular Generator</a> <a href="http://yeoman.io/" class="list-group-item">Yeoman</a> <a href="http://github.com/" class="list-group-item">Github Desktop Client</a> <a href="http://webgl.org" class="list-group-item">WebGL,OpenGL ESSL - Kronos Group</a> <!--\n		<a href="" class="list-group-item"></a>\n    	<a href="" class="list-group-item"></a>\n    --></div></div>Text Creation http://stemkoski.github.io/Three.js/Text3D-Textures.html<div class="panel panel-default ap-credit"><div class="panel-heading">Example Code Reference *Goodies*</div><div class="list-group"><a href="http://threejs.org/examples/webgl_custom_attributes.html" class="list-group-item">ThreeJS Custom Attribute - Shader Material</a> <a href="http://lab.aerotwist.com/webgl/undulating-monkey/" class="list-group-item">Undulating monkey - A3 Engine - Aerotwist</a> <!--\n    <a href="" class="list-group-item"></a>\n  --> <a href="http://jsfiddle.net/p3ZMR/3/" class="list-group-item">AngularJS Active Link Menu</a> <a href="" class="list-group-item"></a> <a href="" class="list-group-item"></a> <a href="" class="list-group-item"></a> <a href="" class="list-group-item"></a></div></div><div class="panel panel-default ap-credit"><div class="panel-heading">WebGL Optimisation</div><div class="list-group"><a href="https://developer.mozilla.org/en-US/docs/Web/WebGL/WebGL_best_practices" class="list-group-item">WebGL best pactices - MDN</a> <a href="https://www.youtube.com/watch?v=QVvHtWePQdA" class="list-group-item">Optimizing WebGL Applications with Don Olmstead</a></div></div><div class="panel panel-default ap-credit"><div class="panel-heading">Devtools Profiling & Web Rendering Optmisation</div><div class="list-group"><a href="https://www.youtube.com/watch?v=x6qe_kVaBpg" class="list-group-item">Chrome DevTools Gogole I/O 2013 - Paul Irish</a> <a href="https://www.youtube.com/watch?v=9xjpmpX4NJE" class="list-group-item">A rendering perf guide for develoeprs by Paul Lewis</a> <a href="http://jankfree.org/" class="list-group-item">JankFree.org</a> <a href="https://www.youtube.com/watch?v=L3ugr9BJqIs" class="list-group-item">Memory Profiling - McCutchan and Loreena Lee</a> <a href="http://www.html5rocks.com/en/tutorials/memory/effectivemanagement/" class="list-group-item"></a> <a href="" class="list-group-item"></a> <a href="" class="list-group-item"></a> <a href="" class="list-group-item"></a></div></div><div class="panel panel-default ap-credit"><div class="panel-heading">Tutorials</div><div class="list-group"><a href="http://aerotwist.com/lab/undulating-monkey/" class="list-group-item">Monkey Article - Aerotwist</a> <a href="http://aerotwist.com/tutorials/an-introduction-to-shaders-part-2/" class="list-group-item">Into to Shaders Part 2 - Aerotwist</a> <a href="http://addyosmani.com/resources/essentialjsdesignpatterns/book/" class="list-group-item">Learning JavaScript Design Patterns - Addy Osmani</a> <a href="http://learningthreejs.com/" class="list-group-item">Learning ThreeJS</a> <a href="http://learningwebgl.com/blog/" class="list-group-item">Learning WebGL</a> <a href="" class="list-group-item"></a> <a href="" class="list-group-item"></a></div></div><div class="footer"><p>Made with love <span class="glyphicon glyphicon-heart"></span> from @wonglok831. Fan ART. Copyright belongs to Respective Owner.<br></p></div>'),a.put("views/main.html",'<webgl-detector>Bummer :( Your browser doesn\'t seemd to support ARTPOP WebGL App.<br>You are supposed to see this image.<br><img ng-src="./images/supposeToSee.png" alt=""></webgl-detector>'),a.put("shaders/ap-spiky.fs","/*http://threejs.org/examples/webgl_custom_attributes.html*/ varying vec3 vNormal; varying vec2 vUv; uniform vec3 color; uniform sampler2D texture; void main() { vec3 light = vec3( 0.5, 0.2, 1.0 ); light = normalize( light ); float dProd = dot( vNormal, light ) * 0.5 + 0.5; vec4 tcolor = texture2D( texture, vUv ); vec4 gray = vec4( vec3( tcolor.r * 0.3 + tcolor.g * 0.59 + tcolor.b * 0.11 ), 1.0 ); gl_FragColor = gray * vec4( vec3( dProd ) * vec3( color ), 1.0 ); }"),a.put("shaders/ap-spiky.vs","/*http://threejs.org/examples/webgl_custom_attributes.html*/ uniform float amplitude; attribute float displacement; varying vec3 vNormal; varying vec2 vUv; void main() { vNormal = normal; vUv = ( 0.5 + amplitude ) * uv + vec2( amplitude ); vec3 newPosition = position + amplitude * normal * vec3( displacement ); gl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition, 1.0 ); }")}]),angular.module("artpopApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["ARTPOP","WebGL","Yeoman","Facebook","HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("artpopApp").controller("CreditCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("artpopApp").controller("ArtpopCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("artpopApp").factory("THREE",function(){return THREE}),angular.module("artpopApp").factory("Modernizr",function(){return Modernizr}),angular.module("artpopApp").factory("TWEEN",function(){return TWEEN}),angular.module("artpopApp").directive("webglDetector",["$rootScope","THREE","Modernizr","TWEEN","$templateCache",function(a,b,c,d,e){function f(){}function g(){z=[],v=new b.Scene,w=new b.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),x=new b.WebGLRenderer,x.setSize(window.innerWidth,window.innerHeight),w.aspect=window.innerWidth/window.innerHeight}function h(a){u=a.find(".gl-detector-container"),u.html(x.domElement),x.setClearColor(255,0)}function i(){var a=new b.OctahedronGeometry(3,2),c=new b.MeshBasicMaterial({color:new b.Color(16711935),wireframe:!0,wireframeLinewidth:1});e.get("shaders/ap-spiky.vs"),e.get("shaders/ap-spiky.fs");var f=new b.Mesh(a,c);v.add(f);var g=new d.Tween(c),h=new d.Tween(c);g.to({wireframeLinewidth:7},100).start(),h.to({wireframeLinewidth:1},100),g.chain(h),h.chain(g);var i=new b.Color(76.5),j=function(){c.color.offsetHSL(.001,.001,0),i.offsetHSL(.001,.001,0),x.setClearColor(i,0),f.rotation.x+=.005,f.rotation.y+=.005,f.rotation.z+=.005};z.push(j)}function j(){var a=f("ARTPOP");a&&v.add(a)}function k(){var a=new b.PointLight(16777215,1,100);a.position.set(5,5,5),v.add(a);var c=new b.PointLight(16777215,1,100);c.position.set(0,0,0),v.add(c)}function l(){x.render(v,w),m(),d.update()}function m(){for(var a=z.length-1;a>=0;a--){var b=z[a];"function"==typeof b&&b()}}function n(){A.resize.invalidate=!0}function o(){x.setSize(window.innerWidth,window.innerHeight),w.aspect=window.innerWidth/window.innerHeight,w.updateProjectionMatrix(),setTimeout(function(){A.resize.invalidate=!1,A.render.throttle=!1},100)}function p(){A.resize.invalidate&&!A.resize.throttle&&(A.render.throttle=!0,setTimeout(o,500))}function q(){y=window.requestAnimationFrame(q),p(),A.render.throttle||l()}function r(){window.cancelAnimationFrame(y)}function s(a){window.addEventListener("resize",n,!1),a.$on("$destroy",function(){r(),window.removeEventListener("resize")})}function t(a,b){a.html(b())}var u,v,w,x,y,z,A={render:{throttle:!1},resize:{invalidate:!1}};return c.webgl&&(g(),k(),i(),j()),{template:'<div class="gl-detector-container"></div>',restrict:"E",transclude:!0,precomplile:function(a){console.log(a.html())},controller:["$scope","$element","$attrs","$transclude",function(a,b,d,e){c.webgl?(h(b,d),s(a),q()):t(b,e)}]}}]),angular.module("artpopApp").directive("activeLink",["$location",function(a){return{restrict:"A",link:function(b,c,d){var e=d.activeLink,f=c.find("a").attr("ng-href");-1!==f.indexOf("#")&&(f=f.substring(1)),b.location=a,b.$watch("location.path()",function(a){0===a.indexOf("/")&&(a=a.substring(1)),f===a?c.addClass(e):c.removeClass(e)})}}}]);