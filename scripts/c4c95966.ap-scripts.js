"use strict";angular.module("artpopApp",["ngCookies","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider",function(a){a.when("/electric-chapel",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/credit",{templateUrl:"views/credit.html",controller:"CreditCtrl"}).when("/artpop",{templateUrl:"views/artpop.html",controller:"ArtpopCtrl"}).otherwise({redirectTo:"/electric-chapel"})}]),angular.module("artpopApp").run(["$templateCache",function(a){a.put("views/artpop.html","<p>This is the artpop view.</p>"),a.put("views/credit.html",'<div class="panel panel-default ap-credit"><div class="panel-heading">Credit - Software & Library</div><div class="list-group"><a href="http://threejs.org" class="list-group-item">ThreeJS by Mr.doob!</a> <a href="http://yeoman.io/" class="list-group-item">AngularJS</a> <a href="http://yeoman.io/" class="list-group-item">Karma</a> <a href="http://yeoman.io/" class="list-group-item">Jasmine</a> <a href="http://jquery.com/" class="list-group-item">jQuery</a> <a href="http://getbootstrap.com/" class="list-group-item">Bootstrap</a> <a href="https://github.com/yeoman/generator-angular" class="list-group-item">Angular Generator</a> <a href="http://yeoman.io/" class="list-group-item">Yeoman</a> <a href="http://github.com/" class="list-group-item">Github Desktop Client</a> <a href="http://webgl.org" class="list-group-item">WebGL,OpenGL ESSL - Kronos Group</a> <!--\n		<a href="" class="list-group-item"></a>\n    	<a href="" class="list-group-item"></a>\n    --></div></div><div class="panel panel-default ap-credit"><div class="panel-heading">Example Code Reference *Goodies*</div><div class="list-group"><a href="http://threejs.org/examples/webgl_custom_attributes.html" class="list-group-item">Custom Attribute - Shader Material</a> <a href="http://lab.aerotwist.com/webgl/undulating-monkey/" class="list-group-item">Undulating monkey - A3 Engine</a> <a href="http://stemkoski.github.io/Three.js/Text3D-Textures.html" class="list-group-item">3D Text Creation</a> <a href="http://jsfiddle.net/p3ZMR/3/" class="list-group-item">Active Link Menu</a> <!--\n    <a href="" class="list-group-item"></a>\n    --></div></div><div class="panel panel-default ap-credit"><div class="panel-heading">WebGL Optimisation</div><div class="list-group"><a href="https://developer.mozilla.org/en-US/docs/Web/WebGL/WebGL_best_practices" class="list-group-item">WebGL best pactices - MDN</a> <a href="https://www.youtube.com/watch?v=QVvHtWePQdA" class="list-group-item">Optimizing WebGL Applications with Don Olmstead</a> <!--\n    <a href="" class="list-group-item"></a>\n    --></div></div><div class="panel panel-default ap-credit"><div class="panel-heading">Devtools Profiling & Web Rendering Optmisation</div><div class="list-group"><a href="https://www.youtube.com/watch?v=x6qe_kVaBpg" class="list-group-item">Chrome DevTools Gogole I/O 2013 - Paul Irish</a> <a href="https://www.youtube.com/watch?v=9xjpmpX4NJE" class="list-group-item">A rendering perf guide for develoeprs by Paul Lewis</a> <a href="http://jankfree.org/" class="list-group-item">JankFree.org</a> <a href="https://www.youtube.com/watch?v=L3ugr9BJqIs" class="list-group-item">Memory Profiling - McCutchan and Loreena Lee</a> <a href="http://www.html5rocks.com/en/tutorials/memory/effectivemanagement/" class="list-group-item"></a> <!--\n    <a href="" class="list-group-item"></a>\n    --></div></div><div class="panel panel-default ap-credit"><div class="panel-heading">Tutorials</div><div class="list-group"><a href="http://aerotwist.com/lab/undulating-monkey/" class="list-group-item">Monkey Article - Aerotwist</a> <a href="http://aerotwist.com/tutorials/an-introduction-to-shaders-part-2/" class="list-group-item">Into to Shaders Part 2 - Aerotwist</a> <a href="http://addyosmani.com/resources/essentialjsdesignpatterns/book/" class="list-group-item">Learning JavaScript Design Patterns - Addy Osmani</a> <a href="http://learningthreejs.com/" class="list-group-item">Learning ThreeJS</a> <a href="http://learningwebgl.com/blog/" class="list-group-item">Learning WebGL</a> <!--\n    <a href="" class="list-group-item"></a>\n    --></div></div><div class="ap-footer">Made with love <span class="glyphicon glyphicon-heart"></span> from @wonglok831. Fan ART. Copyright belongs to Respective Owner.<br></div>'),a.put("views/main.html",'<webgl-detector>Bummer :( Your browser doesn\'t seemd to support ARTPOP WebGL App.<br>You are supposed to see this image.<br><img ng-src="./images/supposeToSee.png" alt=""></webgl-detector>')}]),angular.module("artpopApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["ARTPOP","WebGL","Yeoman","Facebook","HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("artpopApp").controller("CreditCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("artpopApp").controller("ArtpopCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("artpopApp").factory("THREE",function(){return THREE}),angular.module("artpopApp").factory("Modernizr",function(){return Modernizr}),angular.module("artpopApp").factory("TWEEN",function(){return TWEEN}),angular.module("artpopApp").directive("webglDetector",["$rootScope","Modernizr","TWEEN","$templateCache","WebGLRenderer","doobStat",function(a,b,c,d,e,f){function g(){B=[],x=new THREE.Scene,y=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),z=e,z.setSize(window.innerWidth,window.innerHeight),y.aspect=window.innerWidth/window.innerHeight,y.position.z=20}function h(a){w=a.find(".gl-detector-container"),w.html(z.domElement),z.setClearColor(255,0)}function i(){var a=new THREE.SphereGeometry(10,64,64);return a}function j(){var a=new THREE.MeshPhongMaterial({color:new THREE.Color(16711935),wireframe:!0,side:THREE.DoubleSide,wireframeLinewidth:1});return a}function k(){var a=new THREE.PointLight(16777215,1.5,100);a.position.set(0,0,20),x.add(a)}function l(a){var b=new c.Tween(a),d=new c.Tween(a);b.to({wireframeLinewidth:10},600).chain(d).start(),d.to({wireframeLinewidth:1},600).chain(b)}function m(){var a,b;d.get("shaders/ap-spiky.vs"),d.get("shaders/ap-spiky.fs"),a=j(),b=i();var c=new THREE.Mesh(b,a);x.add(c),l(a);var e=function(){a.color.offsetHSL(.001,0,0),c.rotation.z+=.005,c.rotation.x+=.005,c.rotation.y+=.005};B.push(e)}function n(){z.render(x,y),o(),c.update()}function o(){for(var a=B.length-1;a>=0;a--){var b=B[a];"function"==typeof b&&b()}}function p(){C.resize.invalidate=!0}function q(){z.setSize(window.innerWidth,window.innerHeight),y.aspect=window.innerWidth/window.innerHeight,y.updateProjectionMatrix(),setTimeout(function(){C.resize.invalidate=!1,C.render.throttle=!1},100)}function r(){C.resize.invalidate&&!C.resize.throttle&&(C.render.throttle=!0,setTimeout(q,500))}function s(){f.begin(),A=window.requestAnimationFrame(s),r(),C.render.throttle||n(),f.end()}function t(){window.cancelAnimationFrame(A)}function u(a){window.addEventListener("resize",p,!1),a.$on("$destroy",function(){t(),window.removeEventListener("resize")})}function v(a,b){a.html(b())}var w,x,y,z,A,B,C={render:{throttle:!1},resize:{invalidate:!1}};return b.webgl&&(g(),k(),m()),{template:'<div class="gl-detector-container"></div>',restrict:"E",transclude:!0,precomplile:function(a){console.log(a.html())},controller:["$scope","$element","$transclude",function(a,c,d){b.webgl?(h(c),u(a),s()):v(c,d)}]}}]),angular.module("artpopApp").directive("activeLink",["$location",function(a){return{restrict:"A",link:function(b,c,d){var e=d.activeLink,f=c.find("a").attr("ng-href");-1!==f.indexOf("#")&&(f=f.substring(1)),b.location=a,b.$watch("location.path()",function(a){0===a.indexOf("/")&&(a=a.substring(1)),f===a?c.addClass(e):c.removeClass(e)})}}}]),angular.module("artpopApp").factory("WebGLRenderer",["THREE",function(a){return new a.WebGLRenderer}]),angular.module("artpopApp").factory("doobStat",function(){function a(){b=new Stats}var b;return a(),{dom:b.domElement,start:b.begin,begin:b.begin,end:b.end}}),angular.module("artpopApp").directive("doobStat",["doobStat",function(a){return{template:"",restrict:"E",controller:["$element",function(b){b.html(a.dom)}]}}]);